---
title: 夢回 2023 VR 開發（下）
date: 2025-07-13 14:33:32
tags: [雜談]
---

## 前情提要

上次說完第一次移植到 XRSPACE 的一體機，這篇要說的是第二次移植的事情。

## 第二次移植

一個多月前，教授又來消息了，說這次要移植到 Meta Quest 及 HTC Vive Focus 上。

要針對兩個平台做發布，而 OpenXR 在 Unity 上相較幾年前成熟多了，所以這次就直接用 OpenXR 加上 XR Interaction Toolkit 封裝來完成裝置溝通。

HTC 跟 Meta 也在 VR 領域打滾多年了，雖然給我的不是最新的機種，但相較 XRSPACE 的一體機還是能體現出不小的落差。

### OpenXR

OpenXR 這種開放協定是很好的概念，對於開發者來說只要實作一次就能在不同平台上運行。

由於第一次移植還包含了部分內容更新，所以我也不能直接沿用初代的 SteamVR，只能說以前的我真的菜的可以，邏輯實現一堆大象不提，控制器溝通不是透過介面，導致移植綁手綁腳。

簡單來說，Unity 的 XRToolkit 圍繞著幾個部分：

1. `Interactor` / `Interactable` 來管理互動，算是各種 `Caster` 的高級實現，互動類型分成
  a. `Hover`：Interactor Cast 到時
  b. `Select`：Interactor 選中時
2. `Locomotion` 管理移動
3. 底層的 `Input Action Mapping` 設定，依賴 Unity 現在最推最新的 `InputSystem`，開發者就不需要針對各裝置設定輸入

